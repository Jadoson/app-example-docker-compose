version: "3.9"
services:
  oom-test:
    build: .
    mem_limit: 100m  # Ограничение памяти!
    memswap_limit: 100m
    mem_reservation: 50m
    oom_kill_disable: false  # Разрешаем OOM-killer
    cpus: 0.5
    stdin_open: true
    tty: true
    command: ["python3", "oom_simulator.py", "--mode", "aggressive", "--duration", "60"]
